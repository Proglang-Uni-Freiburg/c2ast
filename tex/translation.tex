\section{Translating equi-recursion to iso-recursion}

The set of syntactically valid expressions in the equi-recursive system is a
subset of the syntactically valid expressions in the iso-recursive system. A
simple one-to-one mapping, however, does not preserve well-typedness because
the target type system is more strict.

\input{fig-translation}

Instead, the translation judgment $\translation e {e'} T$ in
Figure~\ref{fig:translation} describes the translation of an equi-recursively
typed expression $e$ to an equivalent expression $e'$ in the iso-recursive
system. The only interesting part of the translation process is where the
equi-recursive system makes use of type conversions. Here, an appriopriate
conversion function is inserted on the iso-recursive side.
\begin{mathpar}
  \inferrule{
      \translation e {e'} T \\
      f : T \eqt U
    }{
      \translation e {f \; e'} U
    }
\end{mathpar}

The translation preserves well-typedness and the original and the
resulting process are \highlight{``wire-compatible''}. \js{what is the correct
word?} \pt{I've used that word, but the actual technical content is more tricky
than I imagined.}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
